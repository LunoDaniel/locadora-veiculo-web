<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Cadastro de Usuário</title>
		<h:outputStylesheet library="css" name="sistema.css" />
	</h:head>

	<h:body>
		<div id="cadastro-login-dialog">
			<h:form id="frmCadastroUsuario">

				<p:messages id="messages" autoUpdate="true" style="width: 400px;" />
				<h1>Novo Usuário</h1>

				<p:panelGrid columns="2" cellpadding="5" >
					<p:outputLabel for="nome" value="Nome" />
					<p:inputText id="nome" value="#{cadastroUsuarioBean.usuario.nome}"
						required="true" />
						
					<p:outputLabel for="cpf" value="CPF" />
					<p:inputText id="cpf" value="#{cadastroUsuarioBean.usuario.cpf}"
						required="true" />
									
					<p:outputLabel for="email" value="E-mail" />
					<p:inputText id="email" value="#{cadastroUsuarioBean.usuario.email}"
						required="true"  />
						
					<p:outputLabel for="telefone" value="Celular:" />
       				<p:inputMask id="telefone" value="#{cadastroUsuarioBean.usuario.telefone}" mask=" (99) 9999-9999"/>
       				
       				<p:outputLabel for="dataNascimento" value="Data de Nascimento: " />
       				<p:datePicker id="dataNascimento" value="#{cadastroUsuarioBean.usuario.dataNascimento}" pattern="dd/MM/yyyy" showIcon="true" yearNavigator="true" yearRange="1920:2050"/>
       				

					<p:outputLabel for="@next" value="Sexo: " />
			        <p:selectOneMenu id="sexo"   value="#{cadastroUsuarioBean.usuario.sexo}">
			            <f:selectItem itemLabel="Selecione o Sexo" />
			            <f:selectItems value="#{cadastroUsuarioBean.sexos}" var="sexo" itemLabel="#{sexo.descricao}" itemValue="#{sexo}"/>
			        </p:selectOneMenu>
			        
			        <p:outputLabel for="cnh" value="CNH" rendered="#{!SessionUtils.hasUser()}" />
					<p:inputText id="cnh" value="#{cadastroUsuarioBean.usuario.cnh}"  rendered="#{!SessionUtils.hasUser()}" 
						required="true" />
			        
					<h:outputLabel for="senha" value="Senha: *" />
			        <p:password id="senha" value="#{cadastroUsuarioBean.usuario.password}" label="Senha" required="true" feedback="true" match="repetir_senha" />
			 
			        <h:outputLabel for="repetir_senha" value="Repita a Senha: *" />
			        <p:password id="repetir_senha" value="#{cadastroUsuarioBean.usuario.password}" label="Confirmar Senha" required="true" 
			        	validatorMessage="A senha não é valida. Tente uma senha mais forte para sua segurança."/>
			       
			      
					<f:facet name="footer">
						<p:commandButton value="Cadastrar" action="#{cadastroUsuarioBean.salvar()}" update="frmCadastroUsuario, messages" />
						<p:outputPanel style="float: right">
							<p:link value="Voltar ao Login" outcome="/Login"/>
						</p:outputPanel>
					</f:facet>

				</p:panelGrid>
			</h:form>
		</div>
	</h:body>

</html>